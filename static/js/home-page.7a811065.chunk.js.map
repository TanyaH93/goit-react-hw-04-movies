{"version":3,"sources":["services/movies-api.js","functions/mappers.js","components/ArticlesList/ArticlesList.jsx","components/ArticlesList/ArticlesList.module.css","pages/HomePage/HomePage.jsx"],"names":["KEY","getTrendingMovies","url","axios","get","getMoviesWithQuery","query","getMovieWithId","id","getCasts","getReviews","movieMapper","movie","image","poster_path","title","userScore","popularity","overview","genres","Math","round","map","name","join","castMapper","items","profile_path","character","trendingMapper","reviewsMapper","author","content","withRouter","location","key","className","styles","Li","to","pathname","state","from","Link","module","exports","HomePage","articles","getArticles","API","then","data","setState","results","catch","error","console","log","this","Component"],"mappings":"yIAAA,+LAEMA,EAAM,mCAECC,EAAoB,WAC/B,IAAMC,EAAG,kEAA8DF,GACvE,OAAOG,IAAMC,IAAIF,IAGNG,EAAqB,SAAAC,GAChC,IAAMJ,EAAG,4DAAwDF,EAAxD,iCAAoFM,EAApF,+BACT,OAAOH,IAAMC,IAAIF,IAGNK,EAAiB,SAAAC,GAC5B,IAAMN,EAAG,6CAAyCM,EAAzC,oBAAuDR,EAAvD,mBACT,OAAOG,IAAMC,IAAIF,IAGNO,EAAW,SAAAD,GACtB,IAAMN,EAAG,6CAAyCM,EAAzC,4BAA+DR,GACxE,OAAOG,IAAMC,IAAIF,IAGNQ,EAAa,SAAAF,GACxB,IAAMN,EAAG,6CAAyCM,EAAzC,4BAA+DR,EAA/D,0BACT,OAAOG,IAAMC,IAAIF,K,gCC1BnB,wIAAO,IAAMS,EAAc,SAAAC,GACzB,IAEeC,EAKXD,EALFE,YACAC,EAIEH,EAJFG,MACYC,EAGVJ,EAHFK,WACAC,EAEEN,EAFFM,SACAC,EACEP,EADFO,OAEF,MAAO,CACLN,MAAOA,EATM,kCASWA,EAAQA,EAChCE,QACAC,UAAWI,KAAKC,MAAML,GACtBE,WACAC,OAAQA,EAAOG,KAAI,qBAAGC,QAAiBC,KAAK,OAInCC,EAAa,SAAAC,GAExB,OAAOA,EAAMJ,KAAI,gBAAGd,EAAH,EAAGA,GAAkBK,EAArB,EAAOc,aAAP,MAAmD,CAClEnB,KACAK,MAAOA,EAHM,kCAGWA,EAAQA,EAChCU,KAHe,EAA4BA,KAI3CK,UAJe,EAAkCA,eAQxCC,EAAiB,SAAAH,GAC5B,OAAOA,EAAMJ,KAAI,kBAAoB,CACnCd,GADe,EAAGA,GAElBO,MAFe,EAAOA,WAMbe,EAAgB,SAAAJ,GAC3B,OAAOA,EAAMJ,KAAI,kBAA8B,CAC7Cd,GADe,EAAGA,GAElBuB,OAFe,EAAOA,OAGtBC,QAHe,EAAeA,c,gCCpClC,mDAiCeC,iBA5BM,SAAC,GAAD,IAAGP,EAAH,EAAGA,MAAOQ,EAAV,EAAUA,SAAV,OACnB,6BACE,4BACGR,EAAMJ,KAAI,gBAAGd,EAAH,EAAGA,GAAIO,EAAP,EAAOA,MAAP,OACT,wBAAIoB,IAAK3B,EAAI4B,UAAWC,IAAOC,IAC7B,kBAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAahC,GACrBiC,MAAO,CAAEC,KAAMR,IAEjBE,UAAWC,IAAOM,MAEjB5B,a,mBChBb6B,EAAOC,QAAU,CAAC,GAAK,yBAAyB,KAAO,6B,2JCIlCC,E,4MACnBL,MAAQ,CACNM,SAAU,M,EAUZC,YAAc,WACZC,MACGC,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJ,EAAKC,SAAS,CAAEL,SAAUlB,YAAesB,EAAKE,cAE/CC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,O,kEAX9BG,KAAKV,gB,6CAGLU,KAAKN,SAAS,CAAEL,SAAU,S,+BAWlB,IACAA,EAAaW,KAAKjB,MAAlBM,SAER,OACE,6BACE,8CACCA,GAAY,kBAAC,IAAD,CAAcrB,MAAOqB,S,GA1BJY","file":"static/js/home-page.7a811065.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst KEY = 'e20119b92c04fa8f0a03b4993a47ca97';\n\nexport const getTrendingMovies = () => {\n  const url = `https://api.themoviedb.org/3/trending/movie/day?api_key=${KEY}`;\n  return axios.get(url);\n};\n\nexport const getMoviesWithQuery = query => {\n  const url = `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=false`;\n  return axios.get(url);\n};\n\nexport const getMovieWithId = id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}&language=en-US`;\n  return axios.get(url);\n};\n\nexport const getCasts = id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}`;\n  return axios.get(url);\n};\n\nexport const getReviews = id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`;\n  return axios.get(url);\n};\n","export const movieMapper = movie => {\n  const imgUrl = 'https://image.tmdb.org/t/p/w400';\n  const {\n    poster_path: image,\n    title,\n    popularity: userScore,\n    overview,\n    genres,\n  } = movie;\n  return {\n    image: image ? imgUrl + image : image,\n    title,\n    userScore: Math.round(userScore),\n    overview,\n    genres: genres.map(({ name }) => name).join(' '),\n  };\n};\n\nexport const castMapper = items => {\n  const imgUrl = 'https://image.tmdb.org/t/p/w400';\n  return items.map(({ id, profile_path: image, name, character }) => ({\n    id,\n    image: image ? imgUrl + image : image,\n    name,\n    character,\n  }));\n};\n\nexport const trendingMapper = items => {\n  return items.map(({ id, title }) => ({\n    id,\n    title,\n  }));\n};\n\nexport const reviewsMapper = items => {\n  return items.map(({ id, author, content }) => ({\n    id,\n    author,\n    content,\n  }));\n};\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './ArticlesList.module.css';\n\nconst ArticlesList = ({ items, location }) => (\n  <div>\n    <ul>\n      {items.map(({ id, title }) => (\n        <li key={id} className={styles.Li}>\n          <Link\n            to={{\n              pathname: `/movies/${id}`,\n              state: { from: location },\n            }}\n            className={styles.Link}\n          >\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nArticlesList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\nexport default withRouter(ArticlesList);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Li\":\"ArticlesList_Li__Kf8Rp\",\"Link\":\"ArticlesList_Link__1GG0h\"};","import React, { Component } from 'react';\nimport ArticlesList from '../../components/ArticlesList/ArticlesList';\nimport { trendingMapper } from '../../functions/mappers';\nimport * as API from '../../services/movies-api';\n\nexport default class HomePage extends Component {\n  state = {\n    articles: null,\n  };\n\n  componentDidMount() {\n    this.getArticles();\n  }\n  componentWillUnmount() {\n    this.setState({ articles: null });\n  }\n\n  getArticles = () => {\n    API.getTrendingMovies()\n      .then(({ data }) =>\n        this.setState({ articles: trendingMapper(data.results) }),\n      )\n      .catch(error => console.log(error));\n  };\n\n  render() {\n    const { articles } = this.state;\n\n    return (\n      <div>\n        <h1>Trending today</h1>\n        {articles && <ArticlesList items={articles} />}\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}