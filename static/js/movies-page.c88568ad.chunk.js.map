{"version":3,"sources":["services/movies-api.js","components/ArticlesList/ArticlesList.jsx","components/ArticlesList/ArticlesList.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","pages/MoviesPage/MoviesPage.module.css","../node_modules/query-string/index.js","../node_modules/strict-uri-encode/index.js","pages/MoviesPage/MoviesPage.jsx"],"names":["KEY","getTrendingMovies","url","axios","get","getMoviesWithQuery","query","getMovieWithId","id","getCasts","getReviews","withRouter","items","location","map","title","key","className","styles","Li","to","pathname","state","from","Link","module","exports","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","strictUriEncode","require","objectAssign","encode","opts","strict","encodeURIComponent","extract","str","split","parse","formatter","result","arrayFormat","accumulator","exec","replace","undefined","concat","parserForArrayFormat","ret","create","trim","param","parts","shift","val","join","decodeURIComponent","sort","reduce","Boolean","Array","isArray","keysSorter","input","a","b","Number","stringify","index","encoderForArrayFormat","slice","val2","x","c","charCodeAt","toString","toUpperCase","mapper","MoviesPage","movies","getMovies","props","history","moviesAPI","then","data","setState","results","catch","error","console","log","search","handleChange","event","handleSubmit","preventDefault","this","params","queryString","onSubmit","onChange","type","Input","Component"],"mappings":"yIAAA,+LAEMA,EAAM,mCAECC,EAAoB,WAC/B,IAAMC,EAAG,kEAA8DF,GACvE,OAAOG,IAAMC,IAAIF,IAGNG,EAAqB,SAAAC,GAChC,IAAMJ,EAAG,4DAAwDF,EAAxD,iCAAoFM,EAApF,+BACT,OAAOH,IAAMC,IAAIF,IAGNK,EAAiB,SAAAC,GAC5B,IAAMN,EAAG,6CAAyCM,EAAzC,oBAAuDR,EAAvD,mBACT,OAAOG,IAAMC,IAAIF,IAGNO,EAAW,SAAAD,GACtB,IAAMN,EAAG,6CAAyCM,EAAzC,4BAA+DR,GACxE,OAAOG,IAAMC,IAAIF,IAGNQ,EAAa,SAAAF,GACxB,IAAMN,EAAG,6CAAyCM,EAAzC,4BAA+DR,EAA/D,0BACT,OAAOG,IAAMC,IAAIF,K,gCC1BnB,mDAiCeS,iBA5BM,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,SAAV,OACnB,6BACE,4BACGD,EAAME,KAAI,gBAAGN,EAAH,EAAGA,GAAIO,EAAP,EAAOA,MAAP,OACT,wBAAIC,IAAKR,EAAIS,UAAWC,IAAOC,IAC7B,kBAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAab,GACrBc,MAAO,CAAEC,KAAMV,IAEjBI,UAAWC,IAAOM,MAEjBT,a,mBChBbU,EAAOC,QAAU,CAAC,GAAK,yBAAyB,KAAO,6B,gCCDxC,SAASC,EAAgBC,EAAKZ,EAAKa,GAYhD,OAXIb,KAAOY,EACTE,OAAOC,eAAeH,EAAKZ,EAAK,CAC9Ba,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIZ,GAAOa,EAGND,ECVT,SAASO,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNb,EAAQL,OAAOqB,IAAS,GAAMC,SAAQ,SAAUpC,GAC9C,EAAe+B,EAAQ/B,EAAKmC,EAAOnC,OAE5Bc,OAAOuB,0BAChBvB,OAAOwB,iBAAiBP,EAAQjB,OAAOuB,0BAA0BF,IAEjEhB,EAAQL,OAAOqB,IAASC,SAAQ,SAAUpC,GACxCc,OAAOC,eAAegB,EAAQ/B,EAAKc,OAAOa,yBAAyBQ,EAAQnC,OAKjF,OAAO+B,E,sDChCTtB,EAAOC,QAAU,CAAC,MAAQ,4B,gCCA1B,IAAI6B,EAAkBC,EAAQ,IAC1BC,EAAeD,EAAQ,IA0F3B,SAASE,EAAO7B,EAAO8B,GACtB,OAAIA,EAAKD,OACDC,EAAKC,OAASL,EAAgB1B,GAASgC,mBAAmBhC,GAG3DA,EAiBRH,EAAQoC,QAAU,SAAUC,GAC3B,OAAOA,EAAIC,MAAM,KAAK,IAAM,IAG7BtC,EAAQuC,MAAQ,SAAUF,EAAKJ,GAG9B,IAAIO,EA/EL,SAA8BP,GAC7B,IAAIQ,EAEJ,OAAQR,EAAKS,aACZ,IAAK,QACJ,OAAO,SAAUpD,EAAKa,EAAOwC,GAC5BF,EAAS,aAAaG,KAAKtD,GAE3BA,EAAMA,EAAIuD,QAAQ,WAAY,IAEzBJ,QAKoBK,IAArBH,EAAYrD,KACfqD,EAAYrD,GAAO,IAGpBqD,EAAYrD,GAAKmD,EAAO,IAAMtC,GAR7BwC,EAAYrD,GAAOa,GAWtB,IAAK,UACJ,OAAO,SAAUb,EAAKa,EAAOwC,GAC5BF,EAAS,UAAUG,KAAKtD,GACxBA,EAAMA,EAAIuD,QAAQ,QAAS,IAEtBJ,OAG2BK,IAArBH,EAAYrD,GAKvBqD,EAAYrD,GAAO,GAAGyD,OAAOJ,EAAYrD,GAAMa,GAJ9CwC,EAAYrD,GAAO,CAACa,GAHpBwC,EAAYrD,GAAOa,GAUtB,QACC,OAAO,SAAUb,EAAKa,EAAOwC,QACHG,IAArBH,EAAYrD,GAKhBqD,EAAYrD,GAAO,GAAGyD,OAAOJ,EAAYrD,GAAMa,GAJ9CwC,EAAYrD,GAAOa,IAsCP6C,CAFhBf,EAAOF,EAAa,CAACW,YAAa,QAAST,IAMvCgB,EAAM7C,OAAO8C,OAAO,MAExB,MAAmB,kBAARb,EACHY,GAGRZ,EAAMA,EAAIc,OAAON,QAAQ,YAAa,MAMtCR,EAAIC,MAAM,KAAKZ,SAAQ,SAAU0B,GAChC,IAAIC,EAAQD,EAAMP,QAAQ,MAAO,KAAKP,MAAM,KAGxChD,EAAM+D,EAAMC,QACZC,EAAMF,EAAM7B,OAAS,EAAI6B,EAAMG,KAAK,UAAOV,EAI/CS,OAAcT,IAARS,EAAoB,KAAOE,mBAAmBF,GAEpDf,EAAUiB,mBAAmBnE,GAAMiE,EAAKN,MAGlC7C,OAAOQ,KAAKqC,GAAKS,OAAOC,QAAO,SAAUlB,EAAQnD,GACvD,IAAIiE,EAAMN,EAAI3D,GAQd,OAPIsE,QAAQL,IAAuB,kBAARA,IAAqBM,MAAMC,QAAQP,GAE7Dd,EAAOnD,GAvDV,SAASyE,EAAWC,GACnB,OAAIH,MAAMC,QAAQE,GACVA,EAAMN,OACc,kBAAVM,EACVD,EAAW3D,OAAOQ,KAAKoD,IAAQN,MAAK,SAAUO,EAAGC,GACvD,OAAOC,OAAOF,GAAKE,OAAOD,MACxB9E,KAAI,SAAUE,GAChB,OAAO0E,EAAM1E,MAIR0E,EA4CSD,CAAWR,GAEzBd,EAAOnD,GAAOiE,EAGRd,IACLrC,OAAO8C,OAAO,QA3BTD,GA8BTjD,EAAQoE,UAAY,SAAUlE,EAAK+B,GAClC,IAQIO,EAzKL,SAA+BP,GAC9B,OAAQA,EAAKS,aACZ,IAAK,QACJ,OAAO,SAAUpD,EAAKa,EAAOkE,GAC5B,OAAiB,OAAVlE,EAAiB,CACvB6B,EAAO1C,EAAK2C,GACZ,IACAoC,EACA,KACCb,KAAK,IAAM,CACZxB,EAAO1C,EAAK2C,GACZ,IACAD,EAAOqC,EAAOpC,GACd,KACAD,EAAO7B,EAAO8B,IACbuB,KAAK,KAGT,IAAK,UACJ,OAAO,SAAUlE,EAAKa,GACrB,OAAiB,OAAVA,EAAiB6B,EAAO1C,EAAK2C,GAAQ,CAC3CD,EAAO1C,EAAK2C,GACZ,MACAD,EAAO7B,EAAO8B,IACbuB,KAAK,KAGT,QACC,OAAO,SAAUlE,EAAKa,GACrB,OAAiB,OAAVA,EAAiB6B,EAAO1C,EAAK2C,GAAQ,CAC3CD,EAAO1C,EAAK2C,GACZ,IACAD,EAAO7B,EAAO8B,IACbuB,KAAK,MAwIMc,CAFhBrC,EAAOF,EANQ,CACdC,QAAQ,EACRE,QAAQ,EACRQ,YAAa,QAGgBT,IAI9B,OAAO/B,EAAME,OAAOQ,KAAKV,GAAKwD,OAAOtE,KAAI,SAAUE,GAClD,IAAIiE,EAAMrD,EAAIZ,GAEd,QAAYwD,IAARS,EACH,MAAO,GAGR,GAAY,OAARA,EACH,OAAOvB,EAAO1C,EAAK2C,GAGpB,GAAI4B,MAAMC,QAAQP,GAAM,CACvB,IAAId,EAAS,GAUb,OARAc,EAAIgB,QAAQ7C,SAAQ,SAAU8C,QAChB1B,IAAT0B,GAIJ/B,EAAOvB,KAAKsB,EAAUlD,EAAKkF,EAAM/B,EAAOjB,YAGlCiB,EAAOe,KAAK,KAGpB,OAAOxB,EAAO1C,EAAK2C,GAAQ,IAAMD,EAAOuB,EAAKtB,MAC3ClB,QAAO,SAAU0D,GACnB,OAAOA,EAAEjD,OAAS,KAChBgC,KAAK,KAAO,K,gCC1MhBzD,EAAOC,QAAU,SAAUqC,GAC1B,OAAOF,mBAAmBE,GAAKQ,QAAQ,YAAY,SAAU6B,GAC5D,MAAO,IAAMA,EAAEC,WAAW,GAAGC,SAAS,IAAIC,mB,6LCGtCC,EAAS,SAAA5F,GACb,OAAOA,EAAME,KAAI,kBAAoB,CACnCN,GADe,EAAGA,GAElBO,MAFe,EAAOA,WAML0F,E,4MACnBnF,MAAQ,CACNoF,OAAQ,KACRpG,MAAO,I,EAgBTqG,UAAY,SAAArG,GAAU,IAAD,EACW,EAAKsG,MAA3BC,EADW,EACXA,QAAShG,EADE,EACFA,SAEjBiG,IACsBxG,GACnByG,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAc,EAAKC,SAAS,CAAEP,OAAQF,EAAOQ,EAAKE,cACvDC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MAE9BP,EAAQjE,KAAR,2BACK/B,GADL,IAEE0G,OAAO,SAAD,OAAWjH,O,EAIrBkH,aAAe,SAAAC,GAAU,IACf5F,EAAU4F,EAAM1E,OAAhBlB,MAER,EAAKoF,SAAS,CAAE3G,MAAOuB,K,EAGzB6F,aAAe,SAAAD,GACbA,EAAME,iBADgB,IAEdrH,EAAU,EAAKgB,MAAfhB,MACR,EAAKqG,UAAUrG,I,kEApCI,IACXO,EAAa+G,KAAKhB,MAAlB/F,SAER,GAAIA,EAAS0G,OAAQ,CACnB,IAAMM,EAASC,IAAY7D,MAAMpD,EAAS0G,QAAQjH,MAClDsH,KAAKjB,UAAUkB,M,6CAKjBD,KAAKX,SAAS,CAAEP,OAAQ,S,+BA6BhB,IAAD,EACmBkB,KAAKtG,MAAvBhB,EADD,EACCA,MAAOoG,EADR,EACQA,OAEf,OACE,6BACE,0BAAMqB,SAAUH,KAAKF,cACnB,2BACEM,SAAUJ,KAAKJ,aACf3F,MAAOvB,EACP2H,KAAK,OACLhH,UAAWC,IAAOgH,QAEpB,4BAAQD,KAAK,UAAb,WAGDvB,GAAU,kBAAC,IAAD,CAAc9F,MAAO8F,S,GA5DAyB","file":"static/js/movies-page.c88568ad.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst KEY = 'e20119b92c04fa8f0a03b4993a47ca97';\n\nexport const getTrendingMovies = () => {\n  const url = `https://api.themoviedb.org/3/trending/movie/day?api_key=${KEY}`;\n  return axios.get(url);\n};\n\nexport const getMoviesWithQuery = query => {\n  const url = `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=false`;\n  return axios.get(url);\n};\n\nexport const getMovieWithId = id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}&language=en-US`;\n  return axios.get(url);\n};\n\nexport const getCasts = id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}`;\n  return axios.get(url);\n};\n\nexport const getReviews = id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`;\n  return axios.get(url);\n};\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './ArticlesList.module.css';\n\nconst ArticlesList = ({ items, location }) => (\n  <div>\n    <ul>\n      {items.map(({ id, title }) => (\n        <li key={id} className={styles.Li}>\n          <Link\n            to={{\n              pathname: `/movies/${id}`,\n              state: { from: location },\n            }}\n            className={styles.Link}\n          >\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nArticlesList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\nexport default withRouter(ArticlesList);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Li\":\"ArticlesList_Li__Kf8Rp\",\"Link\":\"ArticlesList_Link__1GG0h\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"MoviesPage_Input__3NuO5\"};","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","import React, { Component } from 'react';\nimport ArticlesList from '../../components/ArticlesList/ArticlesList';\nimport styles from './MoviesPage.module.css';\nimport queryString from 'query-string';\nimport * as moviesAPI from '../../services/movies-api';\n\nconst mapper = items => {\n  return items.map(({ id, title }) => ({\n    id,\n    title,\n  }));\n};\n\nexport default class MoviesPage extends Component {\n  state = {\n    movies: null,\n    query: '',\n  };\n\n  componentDidMount() {\n    const { location } = this.props;\n\n    if (location.search) {\n      const params = queryString.parse(location.search).query;\n      this.getMovies(params);\n    }\n  }\n\n  componentWillUnmount() {\n    this.setState({ movies: null });\n  }\n\n  getMovies = query => {\n    const { history, location } = this.props;\n\n    moviesAPI\n      .getMoviesWithQuery(query)\n      .then(({ data }) => this.setState({ movies: mapper(data.results) }))\n      .catch(error => console.log(error));\n\n    history.push({\n      ...location,\n      search: `query=${query}`,\n    });\n  };\n\n  handleChange = event => {\n    const { value } = event.target;\n\n    this.setState({ query: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { query } = this.state;\n    this.getMovies(query);\n  };\n\n  render() {\n    const { query, movies } = this.state;\n\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            onChange={this.handleChange}\n            value={query}\n            type=\"text\"\n            className={styles.Input}\n          ></input>\n          <button type=\"submit\">Search</button>\n        </form>\n\n        {movies && <ArticlesList items={movies} />}\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}